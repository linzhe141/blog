import Image from 'next/image'

# ä½¿ç”¨vscodeè°ƒè¯•vueæºç 

## 1ã€vue@2.7ï¼ˆç®€å•ç²—æš´çš„æ–¹å¼ğŸ˜‚ï¼‰

- ä¸‹è½½æºç ï¼Œå¹¶å®‰è£…ä¾èµ–

  ```bash
  # 1
  git clone https://github.com/vuejs/vue.git
  # 2
  pnpm install
  ```

- å¼€å¯sourcemapï¼Œé»˜è®¤çš„`dev`è„šæœ¬æ²¡æœ‰å¯¹åº”sourcemapæ–‡ä»¶,éœ€è¦ä¿®æ”¹`srcipts/config.js(rollupé…ç½®)çš„outputé€‰é¡¹ï¼Œæ–°å¢sourcemap:true`

  - æ–°å¢sourcemap

    ```js filename="srcipts/config.js"
    ...
    output: {
      file: opts.dest,
      format: opts.format,
      banner: opts.banner,
      name: opts.moduleName || 'Vue',
      exports: 'auto',
      // æ–°å¢sourcemap
      sourcemap: true
    }
    ...
    ```

  - ç”Ÿæˆå¼€å‘ç¯å¢ƒçš„æ‰“åŒ…æ–‡ä»¶

    ```bash
    pnpm dev
    ```

  - æ–°å¢æµ‹è¯•å…¥å£æ–‡ä»¶index.html(ä¸è€ƒè™‘sfcï¼Œç›´æ¥ä½¿ç”¨æ¨¡æ¿)

    ```html filename="examples/index.html"
    <!doctype html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script src="../dist/vue.js"></script>
      </head>
      <body>
        <div id="app"><test :msg="message"></test></div>
        <script>
          const { reactive, h, ref } = Vue
          const vm = new Vue({
            components: {
              test: {
                props: ['msg'],
                template: `<div>{{msg.text}}</div>`,
              },
            },
            data() {
              return {
                message: { text: 'Hello World!' },
              }
            },
          })
          vm.$mount('#app')
          window.vm = vm
        </script>
      </body>
    </html>
    ```

  - å¼€å¯è°ƒè¯•

    åœ¨vscodeä¸­æ‰“å¼€æ–°å¢çš„index.htmlæ–‡ä»¶ï¼ŒæŒ‰`F5`å³å¯æ‰“å¼€è°ƒè¯•æ¨¡å¼

## 2ã€vue@3ï¼ˆvitestæ–¹å¼ï¼‰

- ä¸‹è½½æºç ï¼Œå¹¶å®‰è£…ä¾èµ–

  ```bash
  # 1
  git clone https://github.com/vuejs/core.git
  # 2
  pnpm install
  ```

- å®‰è£…vscodeçš„`vitest`æ‰©å±•æ’ä»¶

  æ–°å¢å•å…ƒæµ‹è¯•å…¥å£æ–‡ä»¶ï¼Œæ¯”å¦‚`dev.spec.ts`

  ```ts filename="packages/reactivity/__test__/dev.spec.ts"
  // å‡è®¾æµ‹è¯•å°†refä½œä¸ºreactiveçš„å‚æ•°çš„æ•´ä¸ªæµç¨‹
  import { reactive, ref } from '../src'
  test('reative use ref', () => {
    const refValue = ref({ path: '/test' })
    const reactiveValue = reactive(refValue)
    expect(reactiveValue.value).toBe(refValue.value)
  })
  ```

  ä½¿ç”¨[vitest(ideæ–‡æ¡£)](https://cn.vitest.dev/guide/ide.html)æ’ä»¶åï¼ŒæŒ‰ç…§ä¸‹å›¾æ“ä½œå³å¯è¿›è¡Œdebug

  <Image
    width={700}
    height={240}
    src={'/blog/how-to-debug-by-vitest-with-vscode.jpg'}
    alt='how-to-debug-by-vitest-with-vscode'
    unoptimized
  />
