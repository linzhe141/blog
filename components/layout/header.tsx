'use client'
import Link from 'next/link'
import Icon from '@/components/icon/Icon'
import Image from 'next/image'
import Underline from '../underline'
import ThemeToggle from '../themeToggle'

import { useToggleTheme } from '@/hooks/useToggleTheme'
import { cn } from '@/lib/utils'

type Props = {
  children?: React.ReactNode
}
export default function Header({ children }: Props) {
  const { theme: mode } = useToggleTheme()
  return (
    <div
      className={cn(
        'fixed top-0 z-10',
        'flex w-full items-center justify-between',
        'border-b-[1px] bg-white p-4 shadow-md shadow-gray-400',
        'dark:border-[#2f3336] dark:bg-black dark:shadow-none'
      )}
    >
      <div>
        <Underline>
          <Link className='flex items-center' href='/'>
            <Image
              className='mr-2'
              width={24}
              height={24}
              src={'/logo.svg'}
              alt='logo'
              unoptimized
            />
            {/* <span className='font-semibold'>linzhe-blog</span> */}
            <svg
              style={{ transform: 'translate3d(0, 0, 0)' }}
              className='h-[30px] w-[80px] stroke-black dark:stroke-white'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path
                id='signaturePath'
                d='m 2.996386,25.211595 c -3.47452701,-1.9617 0.80672,-14.312 7.278502,-20.99661 2.234907,-2.30841 3.909355,-2.88712 5.05083,-1.74565 0.635055,0.63506 0.507943,1.40631 -0.609625,3.69887 -1.246461,2.55697 -4.055624,6.52628 -7.798769,11.01956 -2.30958,2.77243 -2.811034,3.53047 -2.864941,4.33092 -0.05085,0.75507 0.07696,1.0855 0.576277,1.48982 1.497417,1.21254 3.417519,-0.14422 5.730384,-4.04913 1.509401,-2.54839 1.598494,-2.7856 1.20966,-3.22076 -0.388968,-0.43532 -0.346375,-0.54491 0.58085,-1.49447 0.550329,-0.56359 1.404565,-1.24226 1.898303,-1.50816 0.887906,-0.47816 0.904207,-0.47694 1.49331,0.11216 l 0.595606,0.59561 -0.874901,1.68745 c -0.481195,0.92809 -1.582254,2.88385 -2.446797,4.34612 -0.864544,1.46227 -1.571897,2.8898 -1.571897,3.17228 0,1.16896 1.856831,0.78936 3.326168,-0.67998 0.438149,-0.43815 1.850559,-2.58727 3.13869,-4.77583 2.295992,-3.90094 2.790684,-4.4558 4.111953,-4.61211 0.972696,-0.11507 0.987655,0.67437 0.04162,2.19623 -0.955627,1.53728 -0.756248,1.66975 0.508316,0.33773 0.501489,-0.52824 1.441124,-1.30214 2.088078,-1.71979 2.127896,-1.37368 4.368662,-0.84507 3.833275,0.90429 -0.09852,0.32192 -0.937108,1.74807 -1.863518,3.16923 -2.824253,4.33251 -3.280395,5.54619 -2.211902,5.88532 0.669396,0.21246 2.420976,-0.78503 3.68183,-2.09672 0.501489,-0.5217 1.052457,-0.94856 1.224374,-0.94856 0.171917,0 0.475982,-0.19915 0.675702,-0.44256 0.199719,-0.24341 1.434688,-1.33294 2.744376,-2.42118 1.309687,-1.08825 2.411894,-2.05259 2.449348,-2.14299 0.03746,-0.0904 -1.26266,-0.0728 -2.889142,0.0392 -1.626483,0.11194 -3.00536,0.15541 -3.064171,0.0966 -0.199875,-0.19987 0.729088,-1.72672 1.205795,-1.98185 0.260962,-0.13966 2.194496,-0.39269 4.29674,-0.56229 5.914098,-0.47711 5.397188,-0.51993 5.491558,0.45492 0.069,0.71298 -0.0443,0.91022 -0.725277,1.26236 -1.864902,0.96438 -7.671074,6.29434 -8.457544,7.76388 -0.293967,0.54928 -0.270876,0.5857 0.28976,0.457 0.335051,-0.0769 2.00067,-0.42879 3.701378,-0.78195 4.690556,-0.97402 4.505676,-0.82649 6.913393,-5.51722 2.68863,-5.23801 6.41466,-11.79373 7.59811,-13.36839 0.7799,-1.03771 1.09801,-1.25764 1.91823,-1.32614 1.43787,-0.12008 1.3062,0.41415 -0.97941,3.97372 -2.14459,3.33994 -5.34866,8.77393 -6.41984,10.88781 l -0.67841,1.33876 1.99806,-2.0176 c 2.47703,-2.50126 4.01105,-3.44971 5.39503,-3.33562 0.86728,0.0715 1.01764,0.18017 1.08775,0.78617 0.0488,0.42162 -0.33345,1.53408 -0.95454,2.77813 -0.56975,1.1412 -1.4821,3.07016 -2.02745,4.28657 -0.87799,1.9584 -0.94643,2.25676 -0.59768,2.60552 0.51174,0.51173 1.17576,0.1782 2.96914,-1.49134 0.72761,-0.67736 1.70459,-1.38761 2.17107,-1.57833 0.82289,-0.33644 0.83567,-0.3658 0.42923,-0.98611 -0.55248,-0.8432 -0.31789,-2.2605 0.56598,-3.4193 0.92723,-1.21567 4.21705,-2.81982 6.10381,-2.97629 1.5589,-0.12927 2.23929,0.18435 2.23929,1.03221 0,0.69517 -1.31446,2.03654 -2.19902,2.24404 -0.61371,0.14397 -0.76951,0.0762 -0.89076,-0.38743 -0.0808,-0.30905 -0.24132,-0.56191 -0.35667,-0.56191 -0.39968,0 -3.53726,2.25068 -3.65252,2.62006 -0.11665,0.37385 0.25226,0.35352 2.37919,-0.1311 0.54518,-0.12422 0.77198,-0.0338 1.00442,0.40055 0.40664,0.75981 0.23354,0.95939 -1.66173,1.91601 -2.99065,1.5095 -3.88549,2.49481 -3.03666,3.34364 0.49695,0.49696 2.88022,0.38377 4.00614,-0.19026 0.54777,-0.27927 1.64978,-1.01219 2.4489,-1.62871 1.63038,-1.25783 2.14667,-1.16559 1.85148,0.33077 -0.1232,0.62455 -0.51538,1.13716 -1.35229,1.76756 -3.18209,2.39689 -7.12065,2.84723 -9.0549,1.03534 -0.5498,-0.51502 -0.62684,-0.52402 -1.06802,-0.12476 -1.20487,1.0904 -3.37672,1.52962 -4.66382,0.94318 -1.62166,-0.73888 -1.37828,-2.67007 0.88649,-7.03419 1.07789,-2.07706 1.39455,-2.89141 1.05328,-2.70877 -0.52032,0.27847 -5.25606,5.38506 -7.46221,8.04657 -0.7297,0.88031 -1.515927,1.67143 -1.747183,1.75804 -0.640403,0.23985 -1.406016,-0.0428 -1.237623,-0.45683 0.08099,-0.19916 0.2122,-0.52161 0.291576,-0.71656 0.111971,-0.275 -0.614534,-0.215 -3.241146,0.26769 -1.862006,0.34217 -4.314603,0.69841 -5.450215,0.79164 -1.905951,0.15647 -2.07521,0.1295 -2.200767,-0.35063 -0.132385,-0.50624 -0.170719,-0.50297 -1.434742,0.12259 -1.580456,0.78216 -2.866077,0.64593 -3.680985,-0.39006 -1.073202,-1.36436 -0.472069,-3.70787 1.863719,-7.26571 0.756274,-1.15195 1.312224,-2.15727 1.235445,-2.23405 -0.404533,-0.40453 -5.347034,4.51004 -8.269094,8.22236 -1.290203,1.63914 -1.450368,1.75741 -2.155999,1.59205 -0.312174,-0.0731 -0.992959,0.0447 -1.512856,0.26195 -1.370253,0.57253 -2.598777,0.49114 -3.681972,-0.24394 l -0.941469,-0.6389 -1.120446,0.55436 c -1.431815,0.7084 -3.579455,0.86696 -4.523501,0.33395 z m 5.414506,-12.88695 c 2.484804,-3.42462 4.534274,-6.64781 4.806714,-7.5595 0.557755,-1.86646 -2.039999,0.77172 -4.884659,4.96067 -1.204698,1.77399 -2.476028,4.21206 -3.05231,5.85349 l -0.406639,1.15824 0.647447,-0.66146 c 0.356096,-0.3638 1.656347,-2.05195 2.889447,-3.75144 z m 7.925515,-1.7181 c -0.565439,-0.22364 -0.36774,-1.58963 0.354249,-2.44766 0.518364,-0.61604 0.904507,-0.81405 1.5875,-0.81405 0.825353,0 0.902522,0.0675 0.902522,0.78958 0,1.30448 -1.812787,2.88009 -2.844271,2.47213 z'
                strokeWidth='1'
              />
            </svg>
          </Link>
        </Underline>
      </div>

      <div className='flex items-center'>
        {children}
        <div className='ml-4'>
          <ThemeToggle />
        </div>
        <Link
          className='ml-4 cursor-pointer'
          href='https://github.com/linzhe141'
          title='linzhe141 github'
          target='_blank'
        >
          {mode === 'light' ? (
            <Icon type='github' />
          ) : (
            <Icon type='github' color='#e2e8f0' />
          )}
        </Link>
      </div>
    </div>
  )
}
